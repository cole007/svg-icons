!function(i){SvgIconsFieldType=Garnish.Base.extend({container:null,init:function(s){this.options=s,this.container=i("#"+this.options.inputId+"-field"),this.loadSpriteSheets(),this.poll=setInterval(this.selectize.bind(this),100)},loadSpriteSheets:function(){for(var s=0;s<this.options.spriteSheets.length;s++){var e=this.options.spriteSheets[s];i.inArray(e,__svgicons.loading)==-1&&(__svgicons.loading.push(e),i.get(e,function(s){var n=document.createElement("div");n.innerHTML=(new XMLSerializer).serializeToString(s.documentElement),$svg=i(n).find("> svg"),$svg.css("display","none").prependTo("body"),__svgicons.loaded.push(e),__svgicons.loading.splice(__svgicons.loading.indexOf(e),1)}))}},selectize:function(){__svgicons.loaded.length==this.options.spriteSheets.length&&(clearInterval(this.poll),this._selectize())},_selectize:function(){var s=this,e=this.container.find(".svgicons__select"),n={dropdownParent:"body",render:{item:function(e,n){if(e.value.indexOf("svgicons-css-")>-1){var t=/(.*\/)(svgicons-.*)/g,v=t.exec(e.value),o=v[2];return'<div class="svgicons__si"><div class="svgicons__si__i '+o+'"></div><span>'+n(e.text)+"</span></div>"}if(e.value.indexOf("svgicons-def-")>-1||e.value.indexOf("svgicons-sym-")>-1){var t=/(.*\/)(svgicons-.{3}-)(.*)/g,v=t.exec(e.value),o=v[3];return'<div class="svgicons__si"><div class="svgicons__si__i"><svg style="width: 100%; height: 100%;" viewBox="'+i("#"+o)[0].getAttribute("viewBox")+'"><use xlink:href="#'+o+'" /></svg></div><span>'+n(e.text)+"</span></div>"}return'<div class="svgicons__si"><div class="svgicons__si__i"><img src="'+("_blank_"==e.value?s.options.blank:s.options.iconSetUrl+e.value)+'" alt="" /></div><span>'+n(e.text)+"</span></div>"},option:function(e,n){if(e.value.indexOf("svgicons-css-")>-1){var t=/(.*\/)(svgicons-.*)/g,v=t.exec(e.value),o=v[2];return'<div class="svgicons__i"><div class="svgicons__i__w"><div class="svgicons__i__w__i '+o+'"></div></div><span>'+n(e.text)+"</span></div>"}if(e.value.indexOf("svgicons-def-")>-1||e.value.indexOf("svgicons-sym-")>-1){var t=/(.*\/)(svgicons-.{3}-)(.*)/g,v=t.exec(e.value),o=v[3];return'<div class="svgicons__i"><div class="svgicons__i__w"><div class="svgicons__i__w__i"><svg style="width: 100%; height: 100%;" viewBox="'+i("#"+o)[0].getAttribute("viewBox")+'"><use xlink:href="#'+o+'" /></svg></div></div><span>'+n(e.text)+"</span></div>"}return'<div class="svgicons__i"><div class="svgicons__i__w"><div class="svgicons__i__w__i"><img src="'+("_blank_"==e.value?s.options.blank:s.options.iconSetUrl+e.value)+'" alt="" /></div></div><span>'+n(e.text)+"</span></div>"}}};e.selectize(n)}})}(jQuery);